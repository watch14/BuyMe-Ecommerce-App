<button (click)="openAddProductModal()">Add New Product</button>

<!-- Modal HTML -->
<div class="modal" [ngClass]="{ open: showModal }">
  <div class="modal-content">
    <span class="close" (click)="closeModal()">&times;</span>

    <form #productForm="ngForm" (ngSubmit)="uploadFiles()">
      <h2>Add Product</h2>

      <div>
        <label for="productName">Product Name:</label>
        <input
          id="productName"
          name="productName"
          type="text"
          [(ngModel)]="product.productName"
          required
        />
      </div>

      <!-- Other form inputs -->

      <div>
        <label for="fileInput">Product Images:</label>
        <input
          type="file"
          id="fileInput"
          (change)="handleFileInput($event)"
          multiple
        />
      </div>

      <div class="upload-loader" *ngIf="isUploading">
        <mat-progress-spinner
          mode="indeterminate"
          diameter="40"
        ></mat-progress-spinner>
        <span>Loading images...</span>
      </div>

      <div *ngIf="imagePreviews.length > 0">
        <h4>Selected Images:</h4>
        <div
          *ngFor="let preview of imagePreviews; let i = index"
          class="image-preview-container"
        >
          <img [src]="preview.url" class="image-preview" />
          <button (click)="removeImage(i)" class="remove-button">X</button>
        </div>
      </div>

      <button
        type="button"
        (click)="uploadFiles()"
        [disabled]="imagePreviews.length === 0 || isUploading"
      >
        {{ isUploading ? "Uploading..." : "Add Product" }}
      </button>

      <div *ngIf="showSuccessMessage" class="success-message">
        {{ showSuccessMessage }}
      </div>
    </form>
  </div>
</div>
